# Chess Auto Analyzer

Автоматический инструмент для пакетного анализа шахматных партий (PGN). Программа использует движок Stockfish для поиска ошибок и классифицирует их по тактическим мотивам, а также проверяет качество разыгрывания дебюта.

## Возможности

* **Автоматический поиск учеников:** Сканирует все PGN файлы и находит игроков, сыгравших больше N партий.
* **Глубокий анализ:** Использует Stockfish для оценки позиций.
* **Классификация ошибок:**
    * Зевок фигуры (Hanging Piece).
    * Подставка под бой (Moving into Danger).
    * Упущенный мат (Missed Mate).
* **Определение тактических мотивов:**
    * Вилка (Fork).
    * Связка (Pin).
    * Линейный удар (Skewer).
    * Двойной шах (Double Check).
    * Вскрытый шах (Discovered Check).
    * Вскрытое нападение (Discovered Attack).
* **Дебютный контроль:**
    * Проверяет первые 15 ходов.
    * Контроль захвата центра пешками.
    * Контроль развития легких фигур (Кони, Слоны).
    * Контроль рокировки.

## Установка и запуск

1.  **Требования:**
    * Python 3.8+
    * Библиотека `python-chess`:
        ```bash
        pip install python-chess
        ```
    * Шахматный движок Stockfish (скачать с официального сайта).

2.  **Настройка:**
    * Откройте `config.json`.
    * Укажите путь к вашему движку в поле `"stockfish_path"`.
    * Настройте параметры анализа (`engine_depth`, `engine_threads`).

3.  **Запуск:**
    Положите ваши `.pgn` файлы в папку с скриптом и запустите:
    ```bash
    python chess_analyze.py
    ```

4.  **Результат:**
    Рядом с каждым исходным файлом появится файл `*_analyze.pgn` с комментариями, вариантами и классификацией ошибок.
    В файле `chess_log.txt` будет подробный отчет о работе программы.

## Конфигурация (config.json)

* `student_game_count_trigger`: Минимальное кол-во партий, чтобы считать игрока учеником.
* `forced_students`: Список имен учеников для принудительного анализа (например: `["User1", "User2"]`).
* `error_threshold`: Разница в сантипешках (cp), которая считается ошибкой.